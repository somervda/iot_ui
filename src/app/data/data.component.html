<mat-expansion-panel expanded="True">
  <mat-expansion-panel-header>
    <mat-panel-title>Query Designer</mat-panel-title>
  </mat-expansion-panel-header>
  <app-selector
    (selectorChange)="selectorChanged($event)"
    [includeFields]="false"
  ></app-selector>
</mat-expansion-panel>
@if(displayData){
<table mat-table [dataSource]="results">
  @for(column of columns; track column ){
  <ng-container [matColumnDef]="column">
    <th mat-header-cell *matHeaderCellDef>{{ column }}</th>
    <td mat-cell *matCellDef="let result">{{ result[column] }}</td>
  </ng-container>
  }
  <tr mat-header-row *matHeaderRowDef="columns"></tr>
  <tr mat-row *matRowDef="let myRowData; columns: columns"></tr>
</table>
}
